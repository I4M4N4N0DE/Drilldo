import{_ as k,u as M,a as S,s as I,i as m,r as V,o as v,c as f,b as o,w as h,v as g,m as Q,d as i,f as N,e as R,g as T,Q as q,p as B,h as E}from"./index-dd8f682e.js";import{Q as U}from"./QuestionComponent-df8e45fe.js";import{Q as $}from"./QuestionControlComponent-31d681c4.js";const a=c=>(B("data-v-092ab91a"),c=c(),E(),c),A={class:"view-container"},D={key:0,class:"test-selector"},j=a(()=>o("h1",null,"Create your own test:",-1)),z={class:"form"},F=a(()=>o("span",null,"Select number of questions to test:",-1)),G={class:"form"},H=a(()=>o("span",null," Select maximum number of answers to be shown per question (0 to show all) ",-1)),J={class:"form"},K=a(()=>o("span",null," Do you want to use statistics to prefer questions where you make mistakes more often? ",-1)),L=a(()=>o("span",{class:"but-text"},"Start",-1)),O=[L],P={key:1,class:"test"},W=a(()=>o("h1",null,"Testing your knowledge",-1)),X={class:"test-container"},Y={__name:"TestView",setup(c){const n=M(q),u=S();n.where("showResults",!0).update({showResults:!1}),u.index=0,u.showMobileMenu=!1,u.viewMode=!1,u.editMode=!1;const{index:w}=I(u),{questions:d}=I(u),s=m(n.all().length),l=m(4),_=m(!0),p=m(!1);n.all().length===0&&V.push("/");function x(){const r=n.with("answers").get();_.value?r.sort((e,t)=>e.numIncorrect+e.numCorrect===0&&t.numIncorrect+t.numCorrect!==0||e.numIncorrect+e.numCorrect!==0&&t.numIncorrect+t.numCorrect===0?e.numIncorrect+e.numCorrect<t.numIncorrect+t.numCorrect?-1:1:e.numIncorrect!==t.numIncorrect?e.numIncorrect>t.numIncorrect?-1:1:e.numCorrect!==t.numCorrect?e.numCorrect<t.numCorrect?-1:1:Math.random()>.5?1:-1):r.sort((e,t)=>Math.random()>.5?1:-1),s.value>=0&&(r.length=s.value,r.sort((e,t)=>Math.random()>.5?1:-1)),r.forEach(function(e){let t=0;e.answers.sort((C,Z)=>Math.random()>.5?1:-1),l.value>0&&l.value<e.answers.length&&(e.answers.length=l.value),e.answers.forEach(function(C){C.correct&&t++}),n.save({id:e.id,maxScore:t})}),d.value=r,p.value=!p.value}function b(){s.value>n.all().length?s.value=n.all().length:s.value<0&&(s.value=1)}function y(){s.value<0&&(s.value=0)}return(r,e)=>(v(),f("div",A,[p.value?(v(),f("div",P,[W,o("div",X,[i(d).length>=1?(v(),N(U,{question:i(d)[i(w)],key:i(d)[i(w)].id},null,8,["question"])):R("",!0),T($)])])):(v(),f("div",D,[j,o("div",z,[F,h(o("input",{type:"number","onUpdate:modelValue":e[0]||(e[0]=t=>s.value=t),onInput:e[1]||(e[1]=t=>b())},null,544),[[g,s.value]])]),o("div",G,[H,h(o("input",{type:"number","onUpdate:modelValue":e[2]||(e[2]=t=>l.value=t),onInput:e[3]||(e[3]=t=>y())},null,544),[[g,l.value]])]),o("div",J,[K,h(o("input",{type:"checkbox","onUpdate:modelValue":e[4]||(e[4]=t=>_.value=t)},null,512),[[Q,_.value]])]),o("button",{class:"button",onClick:e[5]||(e[5]=t=>x())},O)]))]))}},se=k(Y,[["__scopeId","data-v-092ab91a"]]);export{se as default};
